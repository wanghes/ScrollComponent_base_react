{"ast":null,"code":"import _assertThisInitialized from \"/Users/hs/other/react/ScrollComponent_base_react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _classCallCheck from \"/Users/hs/other/react/ScrollComponent_base_react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/hs/other/react/ScrollComponent_base_react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/hs/other/react/ScrollComponent_base_react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/hs/other/react/ScrollComponent_base_react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/hs/other/react/ScrollComponent_base_react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/hs/other/react/ScrollComponent_base_react/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Scroll from './Scroll';\n\nvar Item =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Item, _Component);\n\n  function Item() {\n    _classCallCheck(this, Item);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Item).apply(this, arguments));\n  }\n\n  _createClass(Item, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"li\", {\n        className: \"left_four_ul_li\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 9\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"left_four_ul_li_para\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 10\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 11\n        },\n        __self: this\n      }, this.props.article.content)));\n    }\n  }]);\n\n  return Item;\n}(Component);\n\n;\n\nvar App =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(App, _Component2);\n\n  function App(props, context) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      page: 1,\n      article: [] //文章列表\n\n    };\n    _this.onLoadMore = _this.onLoadMore.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onRefresh = _this.onRefresh.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      //组件被加载之后，默认加载第一页数据\n      this.getData(1);\n    }\n  }, {\n    key: \"onRefresh\",\n    value: function onRefresh() {\n      //下拉刷新函数\n      this.setState({\n        page: 1\n      });\n      this.getData(this.state.page);\n    }\n  }, {\n    key: \"onLoadMore\",\n    value: function onLoadMore() {\n      //加载更多函数\n      var page = this.state.page + 1;\n      this.setState({\n        page: page\n      });\n      this.getData(page);\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(article) {\n      return React.createElement(Item, {\n        key: article.id,\n        article: article,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      });\n    }\n  }, {\n    key: \"getData\",\n    value: function getData(page) {\n      //获取数据的函数\n      var self = this;\n      fetch(\"http://api.mntools.xyz/articles?offset=\" + (page - 1) * 10 + \"&pageSize=20\").then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        // data就是我们请求的repos\n        if (page === 1) {\n          //如果是第一页，直接覆盖之前的数据\n          self.setState({\n            article: data.data\n          }); //父组件的setState  改变的自己的状态的同时触发了自组件的componentWillReceiveProps\n          //子组件可以在componentWillReceiveProps里接受新的参数，改变自己的state会自动触发render渲染\n        } else {\n          self.setState({\n            //否则累加数组\n            article: self.state.article.concat(data.data)\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(Scroll, {\n        onLoadMore: this.onLoadMore,\n        onRefresh: this.onRefresh,\n        article: this.state.article,\n        getItem: this.getItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/hs/other/react/ScrollComponent_base_react/src/App.js"],"names":["React","Component","Scroll","Item","props","article","content","App","context","state","page","onLoadMore","bind","onRefresh","getData","setState","id","self","fetch","then","response","json","data","concat","getItem"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,MAAP,MAAmB,UAAnB;;IAGMC,I;;;;;;;;;;;;;6BACO;AACL,aACI;AAAI,QAAA,SAAS,EAAC,iBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,OAAxB,CADJ,CADJ,CADJ;AAOH;;;;EATcL,S;;AAUlB;;IAGKM,G;;;;;AACF,eAAYH,KAAZ,EAAmBI,OAAnB,EAA4B;AAAA;;AAAA;;AACxB,6EAAMJ,KAAN;AACA,UAAKK,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,CADG;AAETL,MAAAA,OAAO,EAAE,EAFA,CAEG;;AAFH,KAAb;AAIA,UAAKM,UAAL,GAAkB,MAAKA,UAAL,CAAgBC,IAAhB,uDAAlB;AACA,UAAKC,SAAL,GAAiB,MAAKA,SAAL,CAAeD,IAAf,uDAAjB;AAPwB;AAQ3B;;;;wCAEmB;AAAC;AACjB,WAAKE,OAAL,CAAa,CAAb;AACH;;;gCAEW;AAAC;AACT,WAAKC,QAAL,CAAc;AAACL,QAAAA,IAAI,EAAE;AAAP,OAAd;AACA,WAAKI,OAAL,CAAa,KAAKL,KAAL,CAAWC,IAAxB;AACH;;;iCACY;AAAC;AACV,UAAIA,IAAI,GAAG,KAAKD,KAAL,CAAWC,IAAX,GAAkB,CAA7B;AACA,WAAKK,QAAL,CAAc;AAACL,QAAAA,IAAI,EAAEA;AAAP,OAAd;AACA,WAAKI,OAAL,CAAaJ,IAAb;AACH;;;4BAEOL,O,EAAS;AACb,aAAO,oBAAC,IAAD;AAAM,QAAA,GAAG,EAAEA,OAAO,CAACW,EAAnB;AAAuB,QAAA,OAAO,EAAEX,OAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;;4BACOK,I,EAAM;AAAC;AACX,UAAIO,IAAI,GAAG,IAAX;AACAC,MAAAA,KAAK,CAAC,4CAA4C,CAACR,IAAI,GAAC,CAAN,IAAW,EAAvD,GAA4D,cAA7D,CAAL,CAAkFS,IAAlF,CAAuF,UAACC,QAAD,EAAc;AACjG,eAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,OAFD,EAEGF,IAFH,CAEQ,UAAAG,IAAI,EAAI;AACZ;AACA,YAAIZ,IAAI,KAAK,CAAb,EAAgB;AAAC;AACbO,UAAAA,IAAI,CAACF,QAAL,CAAc;AAAEV,YAAAA,OAAO,EAAEiB,IAAI,CAACA;AAAhB,WAAd,EADY,CAEZ;AACA;AACH,SAJD,MAIO;AACHL,UAAAA,IAAI,CAACF,QAAL,CAAc;AAAC;AACXV,YAAAA,OAAO,EAAEY,IAAI,CAACR,KAAL,CAAWJ,OAAX,CAAmBkB,MAAnB,CAA0BD,IAAI,CAACA,IAA/B;AADC,WAAd;AAGH;AACJ,OAbD;AAgBH;;;6BACQ;AACL,aACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AACI,QAAA,UAAU,EAAK,KAAKX,UADxB;AAEI,QAAA,SAAS,EAAK,KAAKE,SAFvB;AAGI,QAAA,OAAO,EAAI,KAAKJ,KAAL,CAAWJ,OAH1B;AAII,QAAA,OAAO,EAAE,KAAKmB,OAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ;AAUH;;;;EA1DavB,S;;AA6DlB,eAAeM,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport Scroll from './Scroll';\n\n\nclass Item extends Component {\n    render() {\n        return (\n            <li className=\"left_four_ul_li\">\n                <div className=\"left_four_ul_li_para\">\n                    <h1>{this.props.article.content}</h1>\n                </div>\n            </li>\n        )\n    }\n};\n\n\nclass App extends Component {\n    constructor(props, context) {\n        super(props);\n        this.state = {\n            page: 1,\n            article: [] //文章列表\n        };\n        this.onLoadMore = this.onLoadMore.bind(this);\n        this.onRefresh = this.onRefresh.bind(this);\n    }\n\n    componentDidMount() {//组件被加载之后，默认加载第一页数据\n        this.getData(1);\n    }\n\n    onRefresh() {//下拉刷新函数\n        this.setState({page: 1});\n        this.getData(this.state.page);\n    }\n    onLoadMore() {//加载更多函数\n        var page = this.state.page + 1;\n        this.setState({page: page});\n        this.getData(page);\n    }\n\n    getItem(article) {\n        return <Item key={article.id} article={article}/>;\n    }\n    getData(page) {//获取数据的函数\n        var self = this;\n        fetch(\"http://api.mntools.xyz/articles?offset=\"+ ((page-1) * 10) +\"&pageSize=20\").then((response) => {\n            return response.json();\n        }).then(data => {\n            // data就是我们请求的repos\n            if (page === 1) {//如果是第一页，直接覆盖之前的数据\n                self.setState({ article: data.data })\n                //父组件的setState  改变的自己的状态的同时触发了自组件的componentWillReceiveProps\n                //子组件可以在componentWillReceiveProps里接受新的参数，改变自己的state会自动触发render渲染\n            } else {\n                self.setState({//否则累加数组\n                    article: self.state.article.concat(data.data)\n                });\n            }\n        });\n\n\n    }\n    render() {\n        return (\n            <div className=\"App\">\n                <Scroll\n                    onLoadMore = { this.onLoadMore }\n                    onRefresh = { this.onRefresh }\n                    article = {this.state.article}\n                    getItem={this.getItem}\n                />\n            </div>\n        );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}